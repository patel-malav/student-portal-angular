<div class="container my-5">
  <div class="row align-items-center justify-content-center">
    <div class="col-6">
      <h1>Add a Student</h1>
    </div>
    <a class="btn btn-primary col-2" routerLink="/student">Back</a>
  </div>
</div>
<form
  [formGroup]="studentForm"
  class="container needs-validation"
  (ngSubmit)="onSubmit()"
>
  <div class="row justify-content-center">
    <div class="col-8">
      <div *ngIf="succsess" class="alert alert-success" role="alert">
        User Added Successfully
      </div>
      <div *ngIf="error" class="alert alert-danger" role="alert">
        Oops an Error Occured
      </div>
    </div>
  </div>
  <div class="form-row justify-content-center my-2">
    <div class="form-group col-12 col-sm-10 col-md-8">
      <label for="name">Name</label>
      <input
        type="text"
        name="name"
        formControlName="name"
        [class]="{
          'form-control': true,
          'is-invalid': f.name.touched && f.name.errors
        }"
      />
      <div class="invalid-feedback">Please enter a proper name</div>
    </div>
  </div>

  <div class="form-row justify-content-center my-2">
    <div class="form-group col-12 col-sm-6 col-md-4">
      <label for="rollNo">Roll No</label>
      <input
        type="number"
        name="rollNo"
        formControlName="rollNo"
        [class]="{
          'form-control': true,
          'is-invalid': f.rollNo.touched && f.rollNo.errors
        }"
        min="0"
        max="5000"
      />
      <div class="invalid-feedback">
        Please enter a proper roll no
      </div>
    </div>
    <div class="form-group col-12 col-sm-6 col-md-4">
      <label for="age">Age</label>
      <input
        type="number"
        name="age"
        formControlName="age"
        [class]="{
          'form-control': true,
          'is-invalid': f.age.touched && f.age.errors
        }"
        min="13"
        max="100"
      />
      <div class="invalid-feedback">
        Please enter a proper age
      </div>
    </div>
  </div>
  <div class="form-row justify-content-center my-2">
    <div class="col-1">
      Gender :
    </div>
    <div class="col-7">
      <div class="form-check form-check-inline">
        <input
          class="form-check-input"
          type="radio"
          name="gender"
          value="male"
          formControlName="gender"
        />
        <label class="form-check-label" for="gender-male">
          Male
        </label>
      </div>
      <div class="form-check form-check-inline">
        <input
          class="form-check-input"
          type="radio"
          name="gender"
          value="female"
          formControlName="gender"
        />
        <label class="form-check-label" for="gender-female">
          Female
        </label>
      </div>
    </div>
  </div>
  <div class="form-row justify-content-center my-2">
    <div class="form-group col-12 col-sm-8 col-md-5">
      <label for="email">Email</label>
      <input
        type="email"
        name="email"
        formControlName="email"
        [class]="{
          'form-control': true,
          'is-invalid': f.email.touched && f.email.errors
        }"
      />
      <div class="invalid-feedback">
        Please enter a appropriate email
      </div>
    </div>
    <div class="form-group col-12 col-sm-4 col-md-3">
      <label for="date">Date</label>
      <input
        type="date"
        name="date"
        formControlName="date"
        [class]="{
          'form-control': true,
          'is-invalid': f.date.touched && f.date.errors
        }"
      />
      <div class="invalid-feedback">
        Please provide a date
      </div>
    </div>
  </div>
  <div class="form-row justify-content-center my-4">
    <button
      *ngIf="!loading"
      class="btn btn-dark w-25"
      type="submit"
      [disabled]="!studentForm.valid"
    >
      {{ value ? "Update a Student" : "Add a Student" }}
    </button>
    <button
      *ngIf="loading"
      class="btn btn-dark w-25"
      type="submit"
      disabled="true"
    >
      <span
        class="spinner-border spinner-border-sm"
        role="status"
        aria-hidden="true"
      ></span>
      Adding ...
    </button>
  </div>
</form>
